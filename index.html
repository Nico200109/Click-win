<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Click&Win</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <h1>Click&Win</h1>
</header>

<main class="grid">
  <div id="slot1" class="card"></div>
  <div id="slot2" class="card"></div>
</main>

<script>
const items = [
  {name:"iPhone 14", desc:"Smartphone derni√®re g√©n√©ration", img:"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9"},
  {name:"TV 4K OLED", desc:"T√©l√©vision 65 pouces", img:"https://images.unsplash.com/photo-1593359677879-a4bb92f829d1"},
  {name:"Console de jeux", desc:"Console nouvelle g√©n√©ration", img:"https://images.unsplash.com/photo-1606813907291-d86efa6a0f93"},
  {name:"Week-end Disneyland", desc:"2 jours pour 2 personnes", img:"https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f"}
];

function startAuction(container, index) {
  let price = 100;
  const item = items[index % items.length];

  container.innerHTML = `
    <img src="${item.img}">
    <h2>${item.name}</h2>
    <div class="desc">${item.desc}</div>
    <div class="price">${price.toFixed(2)} ‚Ç¨</div>
    <button>Bloquer le prix</button>
  `;

  const priceEl = container.querySelector(".price");
  const btn = container.querySelector("button");

  const interval = setInterval(() => {
    price -= 0.5;
    priceEl.textContent = price.toFixed(2) + " ‚Ç¨";
    if (price <= 10) {
      clearInterval(interval);
      nextItem(container, index + 1);
    }
  }, 300);

  btn.onclick = () => {
    clearInterval(interval);
    reserve(container, index + 1);
  };
}

function reserve(container, nextIndex) {
  let t = 10;
  container.innerHTML = `
    <div class="reserved">R√©serv√©</div>
    <div>${t}s pour payer</div>
    <div class="icon">üîí</div>
  `;

  const countdown = setInterval(() => {
    t--;
    container.innerHTML = `
      <div class="reserved">R√©serv√©</div>
      <div>${t}s pour payer</div>
      <div class="icon">üîí</div>
    `;
    if (t <= 0) {
      clearInterval(countdown);
      nextItem(container, nextIndex);
    }
  }, 1000);
}

function nextItem(container, nextIndex) {
  let t = 5;
  container.innerHTML = `
    <div class="reserved">Prochain objet</div>
    <div>${t}s</div>
    <div class="icon">‚è≥</div>
  `;

  const wait = setInterval(() => {
    t--;
    container.innerHTML = `
      <div class="reserved">Prochain objet</div>
      <div>${t}s</div>
      <div class="icon">‚è≥</div>
    `;
    if (t <= 0) {
      clearInterval(wait);
      startAuction(container, nextIndex);
    }
  }, 1000);
}

startAuction(document.getElementById("slot1"), 0);
startAuction(document.getElementById("slot2"), 1);
</script>

</body>
</html>
