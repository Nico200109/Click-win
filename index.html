<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Click&Win</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    font-family: Arial, sans-serif;
    background: #f4f6f8;
    margin: 0;
    padding: 20px;
    text-align: center;
}

h1 {
    margin-bottom: 30px;
}

.object {
    background: white;
    max-width: 320px;
    margin: auto;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
}

.object img {
    width: 100%;
    border-radius: 10px;
}

.price {
    font-size: 32px;
    font-weight: bold;
    margin: 15px 0;
}

button {
    padding: 12px 20px;
    font-size: 16px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
}

#blockBtn {
    background: #000;
    color: white;
}

#payBtn {
    background: #28a745;
    color: white;
    display: none;
    margin-top: 10px;
}

.timer {
    margin-top: 10px;
    font-weight: bold;
    color: red;
}
</style>
</head>

<body>

<h1>Click&Win</h1>

<div class="object">
    <img src="https://images.unsplash.com/photo-1511707171634-5f897ff02aa9" alt="T√©l√©phone">
    <h2>Smartphone derni√®re g√©n√©ration</h2>
    <p>Produit neuf, garanti, livraison rapide.</p>

    <div class="price" id="price">100 ‚Ç¨</div>

    <button id="blockBtn">Bloquer le prix</button>
    <button id="payBtn">Payer maintenant</button>

    <div class="timer" id="timer"></div>
</div>

<script>
let price = 100;
let priceInterval;
let paymentTimer;
let timeLeft = 10;
let blocked = false;

// baisse du prix
function startPriceDrop() {
    priceInterval = setInterval(() => {
        if (!blocked) {
            price -= 1;
            if (price <= 10) {
                price = 100;
            }
            document.getElementById("price").innerText = price + " ‚Ç¨";
        }
    }, 300);
}

// bloquer le prix
document.getElementById("blockBtn").addEventListener("click", () => {
    if (blocked) return;

    blocked = true;
    clearInterval(priceInterval);

    document.getElementById("blockBtn").style.display = "none";
    document.getElementById("payBtn").style.display = "inline-block";

    timeLeft = 10;
    document.getElementById("timer").innerText = "Temps pour payer : 10s";

    paymentTimer = setInterval(() => {
        timeLeft--;
        document.getElementById("timer").innerText = "Temps pour payer : " + timeLeft + "s";

        if (timeLeft <= 0) {
            resetAuction();
        }
    }, 1000);
});

// paiement simul√©
document.getElementById("payBtn").addEventListener("click", () => {
    alert("Paiement valid√© üéâ");
    clearInterval(paymentTimer);
});

// reset
function resetAuction() {
    clearInterval(paymentTimer);
    blocked = false;
    price = 100;

    document.getElementById("price").innerText = price + " ‚Ç¨";
    document.getElementById("timer").innerText = "";
    document.getElementById("blockBtn").style.display = "inline-block";
    document.getElementById("payBtn").style.display = "none";

    startPriceDrop();
}

startPriceDrop();
</script>

</body>
</html>
